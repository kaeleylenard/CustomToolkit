<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: mytoolkit.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: mytoolkit.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {SVG} from './svg.min.js';

/**
 * Custom widget library.
 * To get started, initialize a new window with the desired (width, height),
 * such as new MyToolkit.Window(1000, 1000);
 *
 * @author Kaeley Lenard
 * @namespace MyToolkit
 * @type {{Window: Window, RadioGroup: (function(Number): {getSelected: (function(): number), move: MyToolkit.RadioGroup.move, onClick: MyToolkit.RadioGroup.onClick, label: MyToolkit.RadioGroup.label}), Button: (function(): {onOut: function(Event): void, move: function(Number, Number): void, onClick: function(Event): void, label: function(String): void, onOver: function(Event): void, onUp: function(Event): void}), Checkbox: (function(): {onCheck: function(): boolean, move: function(Number, Number): void, onClick: function(Event): void, label: function(String): void}), TextBox: (function(): {move: function(Number, Number): void, getText: function(): String}), ProgressBar: (function(): {move: function(*=, *=): void}), ScrollBar: (function(Number): {move: function(Number, Number): void, getScrollPosition: function(): string})}}
 */
var MyToolkit = (function() {
    var globalWindow = SVG().addTo('body').size('100%', '100%');
    var globalGroup = globalWindow.group();
    var Window = function(width, height){
        globalWindow.size(width, height);
    }

    /**
     * Creates a button.
     *
     * @namespace Button
     * @memberOf MyToolkit
     * @returns {{move: MyToolkit.Button.move, onClick: MyToolkit.Button.onClick, onStateChange: MyToolkit.Button.onStateChange, label: MyToolkit.Button.label}}
     * @constructor
     */
    var Button = function(){
        var group = globalWindow.group();
        var rect = globalWindow.rect(100,50).fill('#fcd5ce').radius(10);
        group.add(rect);
        globalGroup.add(group);

        // State Changes
        var clickEvent = null;
        var currentEvent = null;

        rect.click(function(event){
            this.fill({ color: '#e0fbfc'});
            if(clickEvent != null)
                clickEvent(event);
            if(currentEvent != null)
                currentEvent(event);
        })
        rect.mouseover(function(event){
            this.fill({ color: '#ffb5a7'});
            if(currentEvent != null)
                currentEvent(event);
        })
        rect.mouseout(function(event){
            this.fill({ color: '#fcd5ce'});
            if(currentEvent != null)
                currentEvent(event);
        })

        return {
            /**
             * Moves the button to a specific (x, y) coordinate in the window.
             *
             * @memberOf MyToolkit.Button
             * @function move
             * @inner
             * @param {Number} x The desired x coordinate of the button.
             * @param {Number} y The desired y coordinate of the button.
             */
            move: function(x, y) {
                group.move(x, y);
            },
            /**
             * Captures the Event when the button is clicked.
             *
             * @memberOf MyToolkit.Button
             * @function onClick
             * @inner
             * @param {Event} clickEventHandler Event fired upon mouse click.
             */
            onClick: function(clickEventHandler){
                clickEvent = clickEventHandler;
            },
            /**
             * Captures the Event when the button's state is changed.
             *
             * @memberOf MyToolkit.Button
             * @function onStateChange
             * @inner
             * @param {Event} currentEventHandler Event fired upon button state change.
             */
            onStateChange: function(currentEventHandler){
                currentEvent = currentEventHandler;
            },
            /**
             * Allows the setting of a custom label on the button.
             *
             * @memberOf MyToolkit.Button
             * @function label
             * @inner
             * @param {String} string The text to be displayed on the button.
             */
            label: function(string) {
                var text = globalWindow.text(string);
                rect.width(rect.width() + text.length() + 100); // Responsive button sized based on text length
                text.move(rect.cx(), rect.cy() - 10).font({family: 'Verdana', anchor: 'middle'});
                group.add(text);
            }
        }
    }

    /**
     * Creates a checkbox.
     *
     * @namespace Checkbox
     * @memberOf MyToolkit
     * @returns {{move: MyToolkit.Checkbox.move, onClick: MyToolkit.Checkbox.onClick, onStateChange: MyToolkit.Checkbox.onStateChange, label: MyToolkit.Checkbox.label, getCheckedState: (function(): boolean)}}
     * @constructor
     */
    var Checkbox = function() {
        var group = globalWindow.group();
        var rect = globalWindow.rect(50, 50).fill('#fcd5ce').radius(10);
        group.add(rect);
        globalGroup.add(group);

        var text = globalWindow.text('âœ“');
        text.center(rect.cx(), rect.cy());
        group.add(text);
        text.hide();

        var clickEvent = null;
        var currentEvent = null;
        var isChecked = false;

        rect.click(function(event) {
            if(clickEvent != null)
                clickEvent(event);
            if(currentEvent != null)
                currentEvent(event);

            if (isChecked === false) {
                this.fill({color: '#ffb5a7'});
                text.show(); // Add checkmark
                isChecked = true;
            }
            else {
                this.fill({color: '#fcd5ce'});
                text.hide(); // Remove checkmark
                isChecked = false;
            }
        })

        return {
            /**
             * Moves the checkbox to a specific (x, y) coordinate in the window.
             *
             * @memberOf MyToolkit.Checkbox
             * @function move
             * @inner
             * @param {Number} x The desired x coordinate of the checkbox.
             * @param {Number} y The desired y coordinate of the checkbox.
             */
            move: function(x, y) {
                group.move(x, y);
            },
            /**
             * Captures the MouseEvent when the checkbox is clicked.
             *
             * @memberOf MyToolkit.Checkbox
             * @function onClick
             * @inner
             * @param {Event} clickEventHandler Event fired upon mouse click.
             */
            onClick: function(clickEventHandler){
                clickEvent = clickEventHandler;
            },
            /**
             * Captures the Event when the checkbox's state is changed.
             *
             * @memberOf MyToolkit.Checkbox
             * @function onStateChange
             * @inner
             * @param {Event} currentEventHandler Event fired upon checkbox state change.
             */
            onStateChange: function(currentEventHandler){
                currentEvent = currentEventHandler;
            },
            /**
             * Returns true if the checkbox is checked, false if unchecked.
             *
             * @memberOf MyToolkit.Checkbox
             * @function getCheckedState
             * @inner
             * @returns {boolean} isChecked
             */
            getCheckedState: function(){
                return isChecked;
            },
            /**
             * Allows the setting of a custom label on the checkbox.
             *
             * @memberOf MyToolkit.Checkbox
             * @function label
             * @inner
             * @param {String} string The text to be displayed to the right of the checkbox.
             */
            label: function(string) {
                var text = globalWindow.text(string);
                text.center(text.cx() + rect.x() + 60, rect.cy()).font({family: 'Verdana'}) // 60 = 50 (width of checkbox) + 10 (for margin)
                group.add(text);
            }
        }
    }

    /**
     * Creates a group of radio buttons with 2+ options as specified by the user.
     *
     * @namespace RadioGroup
     * @memberOf MyToolkit
     * @param {Number} numOptions The number of buttons to be present in the radio group.
     * @returns {{getSelected: (function(): *), move: MyToolkit.RadioGroup.move, onClick: MyToolkit.RadioGroup.onClick, getActive: (function(): boolean), onStateChange: MyToolkit.RadioGroup.onStateChange, label: MyToolkit.RadioGroup.label}}
     * @constructor
     */
    var RadioGroup = function(numOptions) {
        if (numOptions &lt; 2) {
            console.log("Error: You must specify 2 or more options in a RadioGroup");
        }
        else {
            var clickEvent = null;
            var currentEvent = null;
            var isSelected = false;
            var buttonSelected;

            var group = globalWindow.group()
            var currentY = globalWindow.y();
            for (var i = 0; i &lt; numOptions; i++){
                var circle = globalWindow.circle(30).fill('#fcd5ce').move(globalWindow.x(), currentY);
                group.add(circle);
                globalGroup.add(group);
                currentY += 40;
            }

            group.click(function(event) {
                if (SVG(event.target).type === "circle"){
                    if(clickEvent != null)
                        clickEvent(event);
                    if(currentEvent != null)
                        currentEvent(event);

                    SVG(event.target).fill('#e0fbfc');
                    isSelected = true;

                    var selectedCY = SVG(event.target).cy(); // The selected circle retrieved from the mouse click

                    var optionCounter = 0;
                    for (var child of group.children()){
                        if (child.cy() === selectedCY) {
                            buttonSelected = optionCounter + 1
                        }
                        else {
                            if (child.type === "circle") {
                                child.fill('#fcd5ce');
                            }
                        }
                        optionCounter += 1;
                    }

                }
            })

            return {
                /**
                 * Moves the radio group to a specific (x, y) coordinate in the window.
                 *
                 * @memberOf MyToolkit.RadioGroup
                 * @function move
                 * @inner
                 * @param {Number} x The desired x coordinate of the radio group.
                 * @param {Number} y The desired y coordinate of the radio group.
                 */
                move: function(x, y) {
                    group.move(x, y);
                },
                /**
                 * Captures the MouseEvent when the radio group is clicked.
                 *
                 * @memberOf MyToolkit.RadioGroup
                 * @function onClick
                 * @inner
                 * @param {Event} clickEventHandler Event fired upon mouse click.
                 */
                onClick: function(clickEventHandler){
                    isSelected = true;
                    clickEvent = clickEventHandler;
                },
                /**
                 * Captures the Event when the radio group's state is changed.
                 *
                 * @memberOf MyToolkit.RadioGroup
                 * @function onStateChange
                 * @inner
                 * @param currentEventHandler
                 */
                onStateChange: function(currentEventHandler){
                    currentEvent = currentEventHandler;
                },
                /**
                 * Returns the last n button selected.
                 *
                 * @memberOf MyToolkit.RadioGroup
                 * @function getSelected
                 * @inner
                 * @returns {Number}
                 */
                getSelected: function(){
                    return buttonSelected;
                },
                /**
                 * Returns true if the radio group is active, meaning that one button is selected. False if no buttons are selected.
                 *
                 * @memberOf MyToolkit.RadioGroup
                 * @function getActive
                 * @inner
                 * @returns {boolean} isSelected
                 */
                getActive: function(){
                    return isSelected;
                },
                /**
                 * Allows the setting of a custom label for each radio group button.
                 *
                 * @memberOf MyToolkit.RadioGroup
                 * @function label
                 * @inner
                 * @param {Number} optionNumber The n button to which the text is being added to.
                 * @param {String} string The text to be displayed to the right of the optionNumber button.
                 */
                label: function(optionNumber, string) {
                    if ((1 &lt; optionNumber) &amp;&amp; (optionNumber > numOptions)) {
                        console.log("Error: You must input a number from 1 to", numOptions);
                    }
                    else {
                        optionNumber -= 1;
                        var text = globalWindow.text(string);
                        text.center(text.cx() + group.children()[optionNumber].x() + 60, group.children()[optionNumber].cy()).font({family: 'Verdana'});
                        group.add(text);
                    }
                }
            }
        }
    }

    /**
     * Creates a text box.
     *
     * @namespace Textbox
     * @memberOf MyToolkit
     * @returns {{move: MyToolkit.Button.move, getText: (function(): *)}}
     * @constructor
     */
    var TextBox = function() {
        var frame = globalWindow.group()
        frame.rect(300, 50).stroke({width: 3, color: '#fcd5ce'}).fill('white').radius(10);
        frame.click(function(event) {
            console.log("Window", event)
        })
        frame.move(3, 3); // To prevent stroke edges from cutting off
        globalGroup.add(frame);

        var text = frame.text("").move(20, frame.cy() - 15).font({family: 'Verdana', anchor: 'start'});
        var caret = frame.rect(2, 15).move(20, frame.cy() - 7);
        var runner = caret.animate().width(0);
        runner.loop(1000, 1, 0);
        caret.hide();

        frame.mouseover(function(){
            console.log("[mouseOver Event] State: Ready")
            caret.show();
            caret.x(caret.x() + 20);
            caret.y(caret.y() + 20);
        })

        frame.mouseout(function(){
            console.log("[mouseOut Event] State: Idle")
            caret.hide();
            caret.x(caret.x() - 20);
            caret.y(caret.y() - 20);
        })

        SVG.on(window, 'keyup', (event) => {
            console.log("[keyUp Event] State: Execute")
            if (event.code === 'Backspace') {
                var oldLength = text.length() // Remove last key; old and new lengths for cursor placement
                text.text(text.text().substring(0, text.text().length - 1))
                var newLength = text.length();
                caret.x(caret.x() - (oldLength - newLength))
            }
            else if (event.code === 'Space') {
                text.text(text.text() + "\xa0")
                caret.x(caret.x() + 5)
            }
            else if ((event.code === "ShiftLeft") || (event.code === "ShiftRight")){
                console.log("Shift pressed");
            }
            else {
                if (text.length() &lt; 250) {
                    text.text(text.text() + event.key)
                    caret.x(frame.x() + text.length() + 20)
                    console.log("Text entered:", text.text());
                }
            }
        })

        return {
            /**
             * Moves the text box to a specific (x, y) coordinate in the window.
             *
             * @memberOf MyToolkit.Textbox
             * @function move
             * @inner
             * @param {Number} x The desired x coordinate of the text box.
             * @param {Number} y The desired y coordinate of the text box.
             */
            move: function(x, y) {
                frame.move(x, y);
            },
            /**
             * Gets the text inputted by the user in the text box.
             *
             * @memberOf MyToolkit.Textbox
             * @function getText
             * @inner
             * @returns {String}
             */
            getText: function(){
                return text.text();
            }
        }
    }

    /**
     * Creates a scroll bar.
     *
     * @namespace Scrollbar
     * @memberOf MyToolkit
     * @param {Number} height The desired height of the scroll bar.
     * @returns {{move: MyToolkit.Button.move, getScrollPosition: (function(): string)}}
     * @constructor
     */
    var ScrollBar = function(height){
        var group = globalWindow.group();
        var rect = globalWindow.rect(50, height).fill('#fcd5ce').radius(10);
        group.add(rect);
        globalGroup.add(group);

        var slider = globalWindow.rect(50, height/3).fill('#ffb5a7').radius(10);
        group.add(slider);

        var mouseDown = false;
        var lastPosition = rect.y();

        slider.mousedown(function(event){
            mouseDown = true;
        })

        globalWindow.mouseup(function(){
            mouseDown = false;
        })

        slider.mousemove(function(event){
            if (mouseDown) {
                if (slider.y() &lt; rect.y()){
                    slider.y(rect.y())
                }
                else if (slider.y() > rect.y() + height - height/3){
                    slider.y(rect.y() + height - height/3)
                }
                else{
                    if (((event.offsetY - 25) >= rect.y()) &amp;&amp; ((event.offsetY - 25) &lt;= rect.y() + height - height/3)){
                        slider.y(event.offsetY - 25);
                    }

                    if (event.offsetY > lastPosition) {
                        console.log("Scrollbar moved downwards. State: Execute");
                        lastPosition = event.offsetY;
                    }
                    else {
                        console.log("Scrollbar moved upwards. State: Execute");
                    }
                }
            }
        })

        return {
            /**
             * Moves the scroll bar to a specific (x, y) coordinate in the window.
             *
             * @memberOf MyToolkit.Scrollbar
             * @function move
             * @inner
             * @param {Number} x The desired x coordinate of the scroll bar.
             * @param {Number} y The desired y coordinate of the scroll bar.
             */
            move: function(x, y) {
                group.move(x, y);
            },
            /**
             * Returns the (x, y) coordinates of the slider within the scroll bar.
             *
             * @memberOf MyToolkit.Scrollbar
             * @function getScrollPosition
             * @inner
             * @returns {string}
             */
            getScrollPosition: function() {
                return "Slider position: " + "(" + slider.x() + "," + slider.y() + ")";
            }
        }
    }

    var ProgressBar = function(){
        var group = globalWindow.group();
        var rect = globalWindow.rect(300, 50).fill('#fcd5ce').radius(10);
        group.add(rect);
        globalGroup.add(group);

        var progressRect = globalWindow.rect(10, 50).fill('#ffb5a7').radius(10);
        group.add(progressRect);

        var runner = progressRect.animate();

        runner.during(function(){
            progressRect.width(progressRect.width() + 1)
            if (progressRect.width() > rect.width()){
                progressRect.width(0);
            }
        })
        runner.loop();


        return {
            move: function(x, y) {
                group.move(x, y);
            }
        }
    }

    return {Window, Button, Checkbox, RadioGroup, TextBox, ScrollBar, ProgressBar}

}());

export{MyToolkit}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="MyToolkit.html">MyToolkit</a></li></ul><h3>Classes</h3><ul><li><a href="MyToolkit.Button.html">Button</a></li><li><a href="MyToolkit.Checkbox.html">Checkbox</a></li><li><a href="MyToolkit.RadioGroup.html">RadioGroup</a></li><li><a href="MyToolkit.Scrollbar.html">Scrollbar</a></li><li><a href="MyToolkit.Textbox.html">Textbox</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Tue May 11 2021 19:25:09 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
